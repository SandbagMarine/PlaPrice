# Feature Specification: GUI 인터페이스

**Feature Branch**: `002-gui-interface`  
**Created**: 2024-12-30  
**Status**: Draft  
**Input**: User description: "GUI 인터페이스 - 상점 목록 관리, 검색 키워드 입력, 결과 테이블 표시를 위한 그래픽 사용자 인터페이스"

## User Scenarios & Testing *(mandatory)*

### User Story 1 - 상점 목록 관리 (Priority: P1)

사용자는 GUI 화면에서 등록된 상점 목록을 확인하고, 새로운 상점을 추가하거나 기존 상점을 수정/삭제할 수 있다. 상점 목록은 테이블 형태로 표시되며, 각 상점의 이름, URL, 상태가 한눈에 보인다.

**Why this priority**: 상점 관리는 가격 검색의 기반이 되는 핵심 기능이다. 상점이 등록되어 있어야 검색이 가능하므로 가장 높은 우선순위를 갖는다.

**Independent Test**: 상점 추가/수정/삭제 기능만으로도 상점 데이터베이스 관리라는 독립적인 가치를 제공한다.

**Acceptance Scenarios**:

1. **Given** 사용자가 GUI를 실행했을 때, **When** 상점 관리 탭을 클릭하면, **Then** 등록된 모든 상점이 테이블 형태로 표시된다
2. **Given** 상점 관리 화면에서, **When** "상점 추가" 버튼을 클릭하고 상점 정보를 입력한 후 저장하면, **Then** 새 상점이 목록에 추가되고 파일에 저장된다
3. **Given** 상점 목록에서 특정 상점을 선택했을 때, **When** "수정" 버튼을 클릭하면, **Then** 해당 상점 정보를 편집할 수 있는 폼이 표시된다
4. **Given** 상점 목록에서 특정 상점을 선택했을 때, **When** "삭제" 버튼을 클릭하고 확인하면, **Then** 해당 상점이 목록에서 제거된다

---

### User Story 2 - 검색 실행 및 결과 표시 (Priority: P2)

사용자는 GUI에서 검색 키워드를 입력하고, 검색할 상점을 선택한 후 검색 버튼을 클릭하여 가격 정보를 조회한다. 검색 결과는 상점별로 상품명, 가격, 재고 상태가 테이블 형태로 표시되며, 최저가 항목이 강조 표시된다.

**Why this priority**: 가격 검색은 이 프로그램의 핵심 목적이다. 상점 관리 다음으로 중요하며, 검색 기능 없이는 프로그램의 존재 의미가 없다.

**Independent Test**: 등록된 상점에 대해 키워드 검색을 수행하고 결과 테이블을 확인하는 것으로 독립적으로 테스트 가능하다.

**Acceptance Scenarios**:

1. **Given** 상점이 등록되어 있을 때, **When** 검색어를 입력하고 검색 버튼을 클릭하면, **Then** 선택된 상점들에서 검색이 수행되고 결과가 테이블로 표시된다
2. **Given** 검색 결과가 표시되었을 때, **When** 여러 상점에서 동일 상품이 검색되면, **Then** 최저가 항목이 시각적으로 강조된다
3. **Given** 검색 중일 때, **When** 검색이 진행되면, **Then** 진행 상태 표시(프로그레스 바)가 나타난다
4. **Given** 검색 결과가 있을 때, **When** 결과 테이블의 행을 더블클릭하면, **Then** 해당 상품 페이지가 기본 브라우저에서 열린다

---

### User Story 3 - 검색 결과 내보내기 (Priority: P3)

사용자는 검색 결과를 CSV 또는 클립보드로 내보내어 다른 프로그램에서 활용하거나 기록으로 남길 수 있다.

**Why this priority**: 편의 기능으로, 핵심 기능(상점 관리, 검색)이 완성된 후 추가하면 된다.

**Independent Test**: 검색 결과가 있는 상태에서 내보내기 기능만 독립적으로 테스트 가능하다.

**Acceptance Scenarios**:

1. **Given** 검색 결과가 표시되었을 때, **When** "CSV 내보내기" 버튼을 클릭하면, **Then** 파일 저장 대화상자가 나타나고 CSV 파일로 저장된다
2. **Given** 검색 결과가 표시되었을 때, **When** "클립보드 복사" 버튼을 클릭하면, **Then** 결과가 탭으로 구분된 텍스트로 클립보드에 복사된다

---

### Edge Cases

- 상점이 하나도 등록되지 않은 상태에서 검색을 시도하면 "상점을 먼저 등록하세요" 안내 메시지 표시
- 검색 결과가 없을 때 "검색 결과 없음" 메시지를 결과 영역에 표시
- 네트워크 오류로 특정 상점 검색 실패 시 해당 상점만 오류 표시하고 나머지 결과는 정상 표시
- 검색 중 사용자가 취소 버튼을 클릭하면 진행 중인 검색을 중단하고 부분 결과 표시
- 상점 정보 입력 시 필수 필드(이름, URL)가 비어있으면 저장 버튼 비활성화

## Requirements *(mandatory)*

### Functional Requirements

- **FR-001**: GUI는 상점 목록을 테이블 형태로 표시해야 한다 (이름, URL, 상태 컬럼 포함)
- **FR-002**: 사용자는 GUI를 통해 상점을 추가, 수정, 삭제할 수 있어야 한다
- **FR-003**: 상점 추가/수정 시 상점 이름과 URL은 필수 입력 항목이다
- **FR-004**: GUI는 검색 키워드 입력 필드와 검색 버튼을 제공해야 한다
- **FR-005**: 사용자는 사이드바 상점 목록의 체크박스를 통해 검색 대상 상점을 개별 선택하거나 전체 선택할 수 있어야 한다
- **FR-006**: 검색 결과는 상점명, 상품명, 가격, 재고 상태 컬럼을 포함한 테이블로 표시해야 한다
- **FR-007**: 검색 결과에서 최저가 항목은 녹색 배경(연두색 하이라이트)으로 강조되어야 한다
- **FR-008**: 검색 진행 중에는 진행 상태를 표시해야 한다
- **FR-009**: 검색 결과를 CSV 파일로 내보낼 수 있어야 한다
- **FR-010**: 검색 결과를 클립보드로 복사할 수 있어야 한다
- **FR-011**: 결과 테이블의 상품 행을 더블클릭하면 해당 URL이 기본 브라우저에서 열려야 한다
- **FR-012**: 검색 중 취소 기능을 제공해야 한다
- **FR-013**: GUI 상태(창 크기, 위치)는 종료 시 저장되고 다음 실행 시 복원되어야 한다
- **FR-014**: 기존 CLI 기능과 데이터를 공유해야 한다 (동일한 상점 저장소 사용)
- **FR-015**: 검색 결과는 상점당 최대 5개까지 표시해야 한다

### Key Entities

- **MainWindow**: 메인 애플리케이션 창, 사이드바(좌측: 상점목록) + 메인 영역(우측: 검색/결과) 구조
- **ShopListView**: 상점 목록 표시 및 관리를 위한 테이블 뷰 (좌측 사이드바에 배치)
- **ShopEditDialog**: 상점 추가/수정을 위한 입력 폼 대화상자
- **SearchPanel**: 검색 키워드 입력, 상점 선택, 검색 버튼을 포함한 패널 (우측 상단)
- **ResultsTable**: 검색 결과를 표시하는 테이블, 정렬 및 강조 기능 포함 (우측 하단)
- **ProgressIndicator**: 검색 진행 상태를 표시하는 컴포넌트

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: 사용자는 GUI를 통해 5분 이내에 새 상점 3개를 등록할 수 있다
- **SC-002**: 사용자는 키워드 입력부터 검색 결과 확인까지 30초 이내에 완료할 수 있다
- **SC-003**: 검색 결과에서 최저가 상품을 3초 이내에 식별할 수 있다
- **SC-004**: GUI 초기 로딩 시간이 3초 이내이다
- **SC-005**: CLI 경험이 없는 사용자도 별도 설명 없이 기본 기능을 사용할 수 있다

## Assumptions

- **GUI 프레임워크: PySide6** (Qt 공식 Python 바인딩, LGPL 라이선스)
- 기존 CLI 버전의 핵심 로직(크롤러, 저장소, 모델)을 재사용한다
- Windows 10/11 데스크톱 환경에서 동작한다
- 인터넷 연결이 가능한 환경에서 사용한다

## Clarifications

### Session 2024-12-30

- Q: GUI 프레임워크 선택 → A: PySide6 (Qt 공식 바인딩, LGPL 라이선스)
- Q: UI 레이아웃 구조 → A: 사이드바 방식 (좌측: 상점목록, 우측: 검색/결과)
- Q: 검색 결과 개수 제한 → A: 상점당 최대 5개
- Q: 상점 선택 방식 (검색 시) → A: 상점 목록에 체크박스 추가 (사이드바에서 직접 선택)
- Q: 최저가 강조 색상 → A: 녹색 배경 (연두색 하이라이트)
